{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CMDHR2804/query-builder/app/api/update-submission-status/route.ts"],"sourcesContent":["import { google } from 'googleapis';\r\nimport { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\n\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const { rowIndex, status } = await req.json();\r\n\r\n    const auth = new google.auth.GoogleAuth({\r\n      credentials: JSON.parse(fs.readFileSync('google-credentials.json', 'utf8')),\r\n      scopes: ['https://www.googleapis.com/auth/spreadsheets'],\r\n    });\r\n\r\n    const sheets = google.sheets({ version: 'v4', auth });\r\n    const spreadsheetId = '1GwTyj7g0pbqyvwBiWbUXHi_J1qboJ2rryXgCXtpnvLM';\r\n    const sheet = 'Submissions';\r\n\r\n    // Google Sheets is 1-based, so rowIndex 0 is header row\r\n    const targetRange = `${sheet}!F${rowIndex + 2}`; // +2 to skip header\r\n\r\n    await sheets.spreadsheets.values.update({\r\n      spreadsheetId,\r\n      range: targetRange,\r\n      valueInputOption: 'RAW',\r\n      requestBody: {\r\n        values: [[status]],\r\n      },\r\n    });\r\n\r\n    return NextResponse.json({ success: true });\r\n  } catch (err) {\r\n    console.error('Error updating submission status:', err);\r\n    return NextResponse.json({ error: 'Failed to update status' }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,IAAI;QAE3C,MAAM,OAAO,IAAI,qJAAA,CAAA,SAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YACtC,aAAa,KAAK,KAAK,CAAC,6FAAA,CAAA,UAAE,CAAC,YAAY,CAAC,2BAA2B;YACnE,QAAQ;gBAAC;aAA+C;QAC1D;QAEA,MAAM,SAAS,qJAAA,CAAA,SAAM,CAAC,MAAM,CAAC;YAAE,SAAS;YAAM;QAAK;QACnD,MAAM,gBAAgB;QACtB,MAAM,QAAQ;QAEd,wDAAwD;QACxD,MAAM,cAAc,GAAG,MAAM,EAAE,EAAE,WAAW,GAAG,EAAE,oBAAoB;QAErE,MAAM,OAAO,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC;YACtC;YACA,OAAO;YACP,kBAAkB;YAClB,aAAa;gBACX,QAAQ;oBAAC;wBAAC;qBAAO;iBAAC;YACpB;QACF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,qCAAqC;QACnD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACF","debugId":null}}]
}