{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CMDHR2804/query-builder/app/api/send-for-approval/route.ts"],"sourcesContent":["// app/api/send-for-approval/route.ts\r\nimport { google } from 'googleapis';\r\n\r\nexport async function POST(req) {\r\n  const body = await req.json();\r\n  const {\r\n    originalQuery,\r\n    prompt,\r\n    modifiedQuery,\r\n    submittedBy,\r\n    bank,\r\n    segment,\r\n  } = body;\r\n\r\n  const auth = new google.auth.GoogleAuth({\r\n    scopes: ['https://www.googleapis.com/auth/spreadsheets'],\r\n  });\r\n\r\n  const sheets = google.sheets({ version: 'v4', auth });\r\n  const spreadsheetId = process.env.GOOGLE_SHEET_ID;\r\n\r\n  const values = [\r\n    [\r\n      originalQuery,\r\n      prompt,\r\n      modifiedQuery,\r\n      'Pending',\r\n      submittedBy,\r\n      '',         // ApprovedBy (blank)\r\n      new Date().toISOString(),\r\n      bank || '',\r\n      segment || ''\r\n    ]\r\n  ];\r\n\r\n  await sheets.spreadsheets.values.append({\r\n    spreadsheetId,\r\n    range: 'Submissions!A:I', // assuming columns A to I include new BankName and Segment\r\n    valueInputOption: 'USER_ENTERED',\r\n    requestBody: {\r\n      values,\r\n    },\r\n  });\r\n\r\n  return new Response(JSON.stringify({ status: 'submitted' }), {\r\n    headers: { 'Content-Type': 'application/json' },\r\n  });\r\n}\r\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;AACrC;;AAEO,eAAe,KAAK,GAAG;IAC5B,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,EACJ,aAAa,EACb,MAAM,EACN,aAAa,EACb,WAAW,EACX,IAAI,EACJ,OAAO,EACR,GAAG;IAEJ,MAAM,OAAO,IAAI,qJAAA,CAAA,SAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACtC,QAAQ;YAAC;SAA+C;IAC1D;IAEA,MAAM,SAAS,qJAAA,CAAA,SAAM,CAAC,MAAM,CAAC;QAAE,SAAS;QAAM;IAAK;IACnD,MAAM,gBAAgB,QAAQ,GAAG,CAAC,eAAe;IAEjD,MAAM,SAAS;QACb;YACE;YACA;YACA;YACA;YACA;YACA;YACA,IAAI,OAAO,WAAW;YACtB,QAAQ;YACR,WAAW;SACZ;KACF;IAED,MAAM,OAAO,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC;QACtC;QACA,OAAO;QACP,kBAAkB;QAClB,aAAa;YACX;QACF;IACF;IAEA,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;QAAE,QAAQ;IAAY,IAAI;QAC3D,SAAS;YAAE,gBAAgB;QAAmB;IAChD;AACF","debugId":null}}]
}